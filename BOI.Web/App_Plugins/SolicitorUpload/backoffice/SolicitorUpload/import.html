<div class="umb-dashboard__content" ng-cloak ng-controller="SolicitorUploadImportController as ivm">
    <umb-editor-view>
        <umb-editor-container>
            <umb-box>
                <umb-box-content>
                    <h3 class="bold ng-scope"> Upload a solicitor file (.csv)</h3>
                    <p>Upload a .csv file with the offer data.</p>
                    <p class="bold ng-scope">Please ensure the upload is in the correct format</p>
                    <div ng-show="ivm.invalidFileFormat" class="alert alert-error property-error" style="display: none;">The uploaded file must be in <b>.csv</b> format.</div>
                    <div ng-show="ivm.noFile" class="alert alert-error property-error" style="display: none;">A .csv file must be selected.</div>
                    <div class="umb-panel-group__details-status-actions ng-scope" ng-hide="ivm.processing || ivm.processed">
                        <div class="input-group">
                            <label class="input-group-btn">
                                <span class="btn btn-info" style="margin-bottom: 10px; text-align: center;">
                                    Select .csv <input type="file" accept=".csv" umb-file-upload ngf-multiple="false" class="ng-scope" style="display: none;">
                                </span>
                            </label>
                            <input type="text" id="fileName" class="form-control" readonly style="text-align: center; width: 300px;" value="{{ivm.fileName}}">
                        </div>
                        <input ng-if="ivm.fileName" type="submit" ng-click="ivm.upload()" class="btn btn-success" value="Upload file" style="text-align: center; width: 200px;">
                    </div>
                    <div class="umb-panel-group__details-status-actions ng-scope" ng-show="ivm.processing">
                        <div class="clearfix ng-scope">
                            <div class="alert alert-info">Processing file<strong> {{ivm.fileName}} </strong></div>
                        </div>
                        <umb-load-indicator></umb-load-indicator>
                    </div>
                    <div class="umb-panel-group__details-status-actions ng-scope" ng-show="ivm.processed">
                        <div class="span12 clearfix ng-scope">
                            <div ng-show="ivm.success" class="alert alert-success"><b>Success - </b>{{ivm.success}}</div>
                            <div ng-show="ivm.error" class="alert alert-error"><b>Error processing file {{ivm.fileName}} - </b>{{ivm.error}}</div>
                            <div class="btn-group">
                                <input ng-preventdefault ng-click="ivm.back()" class="btn btn-info" value="Back to file upload" style="width: 200px;">
                            </div>
                        </div>
                    </div>
                </umb-box-content>
            </umb-box>
            <umb-box>
                <umb-box-content>
                    <h3 class="bold ng-scope"> Help Text</h3>
                    <p>
                        Ensure the csv has a header row.<br/>
                        Eight columns > SolicitorName, Address1, Address2, Address3, Address4, Address5, PostCode, Telephone<br/>
                        The column headers are case sensitive. <br/>
                        Order of the columns may vary <br/>
                        All fields are mandatory.<br/>
                        There should not be any empty row or column. <br/>
                    </p>
                </umb-box-content>
            </umb-box>
        </umb-editor-container>
    </umb-editor-view>
</div>